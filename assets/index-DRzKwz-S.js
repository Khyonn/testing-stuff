import{j as n,r as T,g as E,B as $,c as M,u as z,f as F,d as O,a as v,e as B,h as W,k as L,L as q}from"./index-DkoM3B19.js";const K="_input_7iby6_1",P={input:K};function U(e){return n.jsx("input",{...e,className:P.input})}function V({children:e,...t}){const o=T.useId();return n.jsxs(n.Fragment,{children:[n.jsx(U,{...t,list:o}),e&&n.jsx("datalist",{id:o,children:e})]})}function b(e){return n.jsx("label",{...e})}const G="_textarea_23a36_1",H={textarea:G};function J(e){return n.jsx("textarea",{...e,className:H.textarea})}function Q(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function X(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Y(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(o=>typeof o=="function")){const o=e.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${t}[${o}]`)}}var N=e=>Array.isArray(e)?e:[e];function Z(e){const t=Array.isArray(e[0])?e[0]:e;return Y(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function ee(e,t){const o=[],{length:a}=e;for(let i=0;i<a;i++)o.push(e[i].apply(null,t));return o}var te=class{constructor(e){this.value=e}deref(){return this.value}},ne=typeof WeakRef<"u"?WeakRef:te,oe=0,R=1;function h(){return{s:oe,v:void 0,o:null,p:null}}function w(e,t={}){let o=h();const{resultEqualityCheck:a}=t;let i,s=0;function c(){let r=o;const{length:_}=arguments;for(let p=0,x=_;p<x;p++){const f=arguments[p];if(typeof f=="function"||typeof f=="object"&&f!==null){let u=r.o;u===null&&(r.o=u=new WeakMap);const m=u.get(f);m===void 0?(r=h(),u.set(f,r)):r=m}else{let u=r.p;u===null&&(r.p=u=new Map);const m=u.get(f);m===void 0?(r=h(),u.set(f,r)):r=m}}const d=r;let l;if(r.s===R)l=r.v;else if(l=e.apply(null,arguments),s++,a){const p=i?.deref?.()??i;p!=null&&a(p,l)&&(l=p,s!==0&&s--),i=typeof l=="object"&&l!==null||typeof l=="function"?new ne(l):l}return d.s=R,d.v=l,l}return c.clearCache=()=>{o=h(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function se(e,...t){const o=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,a=(...i)=>{let s=0,c=0,r,_={},d=i.pop();typeof d=="object"&&(_=d,d=i.pop()),Q(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const l={...o,..._},{memoize:p,memoizeOptions:x=[],argsMemoize:f=w,argsMemoizeOptions:u=[]}=l,m=N(x),S=N(u),g=Z(i),j=p(function(){return s++,d.apply(null,arguments)},...m),C=f(function(){c++;const A=ee(g,arguments);return r=j.apply(null,A),r},...S);return Object.assign(C,{resultFunc:d,memoizedResultFunc:j,dependencies:g,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>r,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:f})};return Object.assign(a,{withTypes:()=>a}),a}var D=se(w),re=Object.assign((e,t=D)=>{X(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const o=Object.keys(e),a=o.map(s=>e[s]);return t(a,(...s)=>s.reduce((c,r,_)=>(c[o[_]]=r,c),{}))},{withTypes:()=>re});const ae=D(E,e=>Object.groupBy(e,t=>t.tag_id)),ce="_form_14tx2_1",ie={form:ce};function le({tags:e,onSubmit:t}){return n.jsxs("form",{className:ie.form,onSubmit:o=>{o.preventDefault();const a=new FormData(o.currentTarget),i=a.get("note"),s=a.get("tag"),c=e?.find(r=>r.name===s)?.id;t?.(c?{text:i,tag_id:c}:{text:i,tag_text:s})},children:[n.jsxs("div",{children:[n.jsx(b,{htmlFor:"addnote_form-note",children:"Note"}),n.jsx(J,{id:"addnote_form-note",name:"note",required:!0})]}),n.jsxs("div",{children:[n.jsx(b,{htmlFor:"addnote_form-tag",children:"Tag"}),n.jsx(V,{id:"addnote_form-tag",name:"tag",type:"text",children:e?.map(o=>n.jsx("option",{value:o.name},o.id))})]}),n.jsx($,{type:"submit",children:"Add note"})]})}const ue="_note_list_1vwfp_1",de="_note_item_1vwfp_4",k={note_list:ue,note_item:de};function pe({notes:e}){return n.jsx("ul",{className:k.note_list,children:e?.map(t=>n.jsx("li",{className:k.note_item,children:t.text},t.id))})}const fe="_root_container_dktko_1",me="_title_dktko_8",_e="_content_container_dktko_14",ye="_form_container_dktko_20",xe="_tabs_dktko_29",y={root_container:fe,title:me,content_container:_e,form_container:ye,tabs:xe};function he(){const{tagID:e}=M({from:"/"}),t=z();T.useEffect(()=>{t(F()),t(O())},[]);const o=v(B),i=v(ae)[e];return n.jsxs("div",{className:y.root_container,children:[n.jsx("h1",{className:y.title,children:"Dashboard"}),n.jsxs("div",{className:y.content_container,children:[n.jsx("div",{className:y.form_container,children:n.jsx(le,{onSubmit:async s=>{let c=s.tag_id;s.tag_text&&(c=(await t(W(s.tag_text)).unwrap()).id),t(L({tag_id:c,text:s.text}))},tags:o})}),n.jsxs("div",{children:[n.jsx("ul",{className:y.tabs,children:o.map(s=>n.jsx("li",{children:n.jsx(q,{to:"/",search:{tagID:s.id},children:s.name})},s.id))}),n.jsx(pe,{notes:i})]})]})]})}const je=he;export{je as component};
